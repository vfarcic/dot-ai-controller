# Example: Kubernetes Secret for storing webhook URLs
# This is the RECOMMENDED way to manage notification credentials securely
#
# Why use Secrets for webhook URLs?
# 1. Credentials are not exposed in CR definitions
# 2. Safe to commit RemediationPolicy CRs to Git (Secret stored separately)
# 3. Leverage Kubernetes Secret RBAC for access control
# 4. Easier credential rotation (update Secret without touching CRs)
# 5. Follows Kubernetes security best practices
#
# IMPORTANT: Never commit this file with real webhook URLs to version control!
# Use a Secret management tool (Sealed Secrets, External Secrets, etc.) or
# create Secrets manually/via CI/CD in each environment.

apiVersion: v1
kind: Secret
metadata:
  name: slack-webhook
  namespace: dot-ai
type: Opaque
stringData:
  # Get your Slack webhook URL from: https://api.slack.com/messaging/webhooks
  url: "https://hooks.slack.com/services/YOUR/WEBHOOK/URL"

# To create the Secret from command line (recommended for production):
# kubectl create secret generic slack-webhook \
#   --from-literal=url="https://hooks.slack.com/services/YOUR/WEBHOOK/URL" \
#   --namespace dot-ai

# To update the webhook URL (credential rotation):
# kubectl patch secret slack-webhook \
#   --namespace dot-ai \
#   --type merge \
#   --patch '{"stringData":{"url":"https://hooks.slack.com/services/NEW/WEBHOOK/URL"}}'

# For Google Chat (requires Google Workspace paid account):
# Get your webhook URL from: https://developers.google.com/chat/how-tos/webhooks
# kubectl create secret generic gchat-webhook \
#   --from-literal=url="https://chat.googleapis.com/v1/spaces/YOUR/SPACE/messages?key=YOUR_KEY&token=YOUR_TOKEN" \
#   --namespace dot-ai
